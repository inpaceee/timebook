<!-- <!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>net.progwise.timebook PI</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/barraider/streamdeck-easypi@latest/src/sdpi.css"
    />
    <script src="https://cdn.jsdelivr.net/gh/barraider/streamdeck-easypi@latest/src/sdtools.common.js"></script>
    <script>
      function setGlobalSettings() {
        const accessToken = document.getElementById("accessToken").value;
        if (websocket && websocket.readyState === 1) {
          const json = {
            event: "setSettings",
            context: uuid,
            payload: { accessToken },
          };
          websocket.send(JSON.stringify(json));
        }
      }
    </script>
  </head>

  <body>
    <div class="sdpi-wrapper">
      <div class="sdpi-item">
        <div class="sdpi-item-label">Task ID</div>
        <input
          oninput="setSettings()"
          class="sdpi-item-value sdProperty"
          id="taskID"
          value=""
          placeholder="Enter your task ID"
        />
      </div>
      <div class="sdpi-item">
        <div class="sdpi-item-label">Access token</div>
        <input
          oninput="setGlobalSettings()"
          class="sdpi-item-value sdProperty"
          id="accessToken"
          value=""
          placeholder="Enter your access token"
        />
      </div> -->

<!-- <div type="select" class="sdpi-item">
        <div class="sdpi-item-label">Change Value</div>
        <select
          class="sdpi-item-value select setvalueSelect"
          onchange="sendValueToPlugin(Number(event.target.value), 'setValue')"
        >
          <option selected value="0">0</option>
          <option value="1">1</option>
        </select>
      </div>
      <div type="range" class="sdpi-item">
        <div class="sdpi-item-label">Change Value</div>
        <div class="sdpi-item-value range">
          <input
            class="setvalueSlider"
            type="range"
            min="0"
            max="9"
            value="0"
            oninput="sendValueToPlugin(Number(event.target.value), 'setValue')"
          />
        </div>
      </div>
      <div type="select" class="sdpi-item">
        <div class="sdpi-item-label">Background</div>
        <select
          class="sdpi-item-value select"
          onchange="sendValueToPlugin(event.target.value, 'background-image')"
        >
          <option selected value="actionDefaultImage">
            Original Background
          </option>
          <option value="actionDefaultImage_red">Red Background</option>
          <option value="actionDefaultImage_blue">Blue Background</option>
        </select>
      </div> -->

<!-- </div>
  </body>
</html> -->

<!DOCTYPE html>
<html>
  <head lang="en">
    <meta charset="utf-8" />
    <title>net.progwise.timebook PI</title>
    <script src="https://cdn.jsdelivr.net/gh/geekyeggo/sdpi-components@v2/dist/sdpi-components.js"></script>
    <script>
      (async function () {
        const info = await SDPIComponents.streamDeckClient.getConnectionInfo();
        console.log(info);
        SDPIComponents.streamDeckClient.sendToPropertyInspector.subscribe(
          console.log
        );
      })();
    </script>
  </head>
  <body>
    <sdpi-wrapper>
      <!-- <sdpi-item label="Task ID">
        <sdpi-textfield setting="taskID"></sdpi-textfield>
      </sdpi-item> -->

      <sdpi-item label="Access Token">
        <sdpi-textfield setting="accessToken" global></sdpi-textfield>
      </sdpi-item>

      <!-- <label for="project-select">Select project:</label> -->
      <sdpi-item label="Task">
        <sdpi-select
          setting="taskID"
          datasource="sendProjects"
          loading="Fetching projects..."
          hot-reload
        ></sdpi-select>
      </sdpi-item>
    </sdpi-wrapper>
  </body>
</html>
